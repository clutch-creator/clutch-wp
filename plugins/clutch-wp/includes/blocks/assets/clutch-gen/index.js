(()=>{"use strict";const e=window.wp.i18n,t=window.wp.primitives,n=window.ReactJSXRuntime,l=(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{d:"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z"})}),i=window.wp.blocks,o=window.wp.blockEditor,a=window.wp.components,s=window.wp.data;function r({open:t,media:l,label:i}){const{baseControlProps:o}=(0,a.useBaseControlProps)({label:i||"your media"});return(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(a.BaseControl,{...o,children:(0,n.jsxs)("div",{style:{marginBottom:"1em",border:"1px solid #ccc",padding:"10px"},children:[l?(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{src:l.source_url,alt:l.alt||"",style:{maxWidth:"100%",height:"auto"}}),(0,n.jsx)("p",{children:l.alt||(0,e.__)("No alt text provided")})]}):null,(0,n.jsx)(a.Button,{onClick:t,isPrimary:!0,children:l?(0,e.__)("Change Image"):(0,e.__)("Select Image")})]})})})}function d({label:e,value:t,onChange:l}){const{media:i}=(0,s.useSelect)((e=>({media:e("core").getMedia(t)})),[t]);return(0,n.jsx)(o.MediaUploadCheck,{children:(0,n.jsx)(o.MediaUpload,{onSelect:l,render:({open:t})=>(0,n.jsx)(r,{open:t,media:i,label:e}),value:t,allowedTypes:["image"],gallery:!1,multiple:!1,mediaId:t,media:i,onError:e=>{console.error("Media upload error:",e)}})})}function c({name:t,value:l,defaultValue:i,onChange:o}){const{baseControlProps:s}=(0,a.useBaseControlProps)({label:t});return(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(a.BaseControl,{...s,children:(0,n.jsxs)("div",{style:{padding:"5px",border:"1px solid #ccc",marginBottom:"1em"},children:[(l||i||[""]).map(((e,i)=>(0,n.jsxs)("div",{style:{display:"flex",marginBottom:"5px"},children:[(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsx)(a.TextControl,{value:e,onChange:e=>{const n=[...l||[]];n[i]=e,o({[t]:n})}})}),(0,n.jsx)(a.Button,{isDestructive:!0,disabled:!l||l.length<=1,onClick:()=>{const e=[...l||[]];e.splice(i,1),o({[t]:e})},children:"X"})]},i))),(0,n.jsx)(a.Button,{isSecondary:!0,onClick:()=>{const e=[...l||[],""];o({[t]:e})},children:(0,e.__)(`Add ${t} entry`)})]})})})}function m(t){const{name:l,value:i,onChange:o,schema:s}=t,{type:r,media:m,enum:u,default:p}=s;if(m){if("number"!==r)return null;const e=l.endsWith("_media_id")?l.replace("_media_id",""):l;return(0,n.jsx)(d,{label:e,value:i||p||0,onChange:({id:t,url:n})=>{o({[e]:n,[l]:t})}})}return"string"===r?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(a.TextControl,{label:l,value:i||p||"",onChange:e=>{o({[l]:e})}})}):"number"===r?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(a.__experimentalNumberControl,{label:l,value:i||p||0,onChange:e=>{o({[l]:e})}})}):"boolean"===r?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(a.SelectControl,{label:l,value:i||p||!1,onChange:e=>{o({[l]:"true"===e})},options:[{label:(0,e.__)("True"),value:"true"},{label:(0,e.__)("False"),value:"false"}]})}):Array.isArray(u)?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(a.SelectControl,{label:l,value:i||p||"",onChange:e=>{o({[l]:e})},options:u.map((e=>({label:e,value:e})))})}):"array"===r?(0,n.jsx)(c,{...t}):null}const u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"CLUTCH_BLOCK_NAME","version":"1.0.0","title":"CLUTCH_BLOCK_TITLE","category":"embed","icon":"smiley","description":"Clutch Block","attributes":{},"editorScript":"file:./index.js"}'),{name:p}=u;!function(e){if(!e)return;const{metadata:t,settings:n,name:l}=e;(0,i.registerBlockType)({name:l,...t},n)}({name:p,metadata:u,settings:{icon:l,__experimentalLabel(t,{context:n}){const l=t?.metadata?.name;if("list-view"===n&&l)return l;if("accessibility"===n){if(l)return l;const{content:n}=t;return n&&0!==n.length?n:(0,e.__)("Empty")}},merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({name:t,attributes:l,setAttributes:r,isSelected:d}){const c=(0,o.useBlockProps)(),u=(0,s.useSelect)((e=>e(i.store).getBlockType(t)),[t]),p=u?.attributes||{};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.InspectorControls,{children:(0,n.jsx)(a.Panel,{header:(0,e.__)("Settings"),children:(0,n.jsx)(a.PanelBody,{title:`${u.title} config`,children:""})})}),(0,n.jsxs)("div",{...c,style:{padding:"10px 20px",border:"1px solid #ccc"},children:[(0,n.jsx)("h2",{children:u.title||"Clutch Block"}),Object.entries(p).map((([e,t])=>t?.clutch?(0,n.jsx)(m,{name:e,schema:t,value:l[e]||null,onChange:r},e):null))]})]})},save:function({attributes:e}){const t=o.useBlockProps.save();return(0,n.jsx)("p",{...t,children:"Saved Clutch Block"})}}})})();