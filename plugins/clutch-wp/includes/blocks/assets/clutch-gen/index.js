(()=>{"use strict";const e=window.wp.i18n,t=window.wp.primitives,n=window.ReactJSXRuntime,l=(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{d:"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z"})}),o=window.wp.blocks,a=window.wp.blockEditor,i=window.wp.components,r=window.wp.data;function s({open:t,media:l,label:o}){const{baseControlProps:a}=(0,i.useBaseControlProps)({label:o||"your media"});return(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(i.BaseControl,{...a,children:(0,n.jsxs)("div",{style:{marginBottom:"1em",border:"1px solid #ccc",padding:"10px"},children:[l?(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{src:l.source_url,alt:l.alt||"",style:{maxWidth:"100%",height:"auto"}}),(0,n.jsx)("p",{children:l.alt||(0,e.__)("No alt text provided")})]}):null,(0,n.jsx)(i.Button,{onClick:t,isPrimary:!0,children:l?(0,e.__)("Change Image"):(0,e.__)("Select Image")})]})})})}function d({label:e,value:t,onChange:l}){const{media:o}=(0,r.useSelect)((e=>({media:e("core").getMedia(t)})),[t]);return(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:l,render:({open:t})=>(0,n.jsx)(s,{open:t,media:o,label:e}),value:t,allowedTypes:["image"],gallery:!1,multiple:!1,mediaId:t,media:o,onError:e=>{console.error("Media upload error:",e)}})})}function c({name:t,value:l,defaultValue:o,onChange:a}){const{baseControlProps:r}=(0,i.useBaseControlProps)({label:t});return(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(i.BaseControl,{...r,children:(0,n.jsxs)("div",{style:{padding:"5px",border:"1px solid #ccc",marginBottom:"1em"},children:[(l||o||[""]).map(((e,o)=>(0,n.jsx)(i.TextControl,{value:e,onChange:e=>{const n=[...l||[]];n[o]=e,a({[t]:n})}},o))),(0,n.jsx)(i.Button,{isSecondary:!0,onClick:()=>{const e=[...l||[],""];a({[t]:e})},children:(0,e.__)(`Add ${t} entry`)})]})})})}function m(t){const{name:l,value:o,onChange:a,schema:r}=t,{type:s,media:m,enum:u,default:p}=r;if(m){if("number"!==s)return null;const e=l.endsWith("_media_id")?l.replace("_media_id",""):l;return(0,n.jsx)(d,{label:e,value:o||p||0,onChange:({id:t,url:n})=>{a({[e]:n,[l]:t})}})}return"string"===s?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(i.TextControl,{label:l,value:o||p||"",onChange:e=>{a({[l]:e})}})}):"number"===s?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(i.__experimentalNumberControl,{label:l,value:o||p||0,onChange:e=>{a({[l]:e})}})}):"boolean"===s?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(i.SelectControl,{label:l,value:o||p||!1,onChange:e=>{a({[l]:"true"===e})},options:[{label:(0,e.__)("True"),value:"true"},{label:(0,e.__)("False"),value:"false"}]})}):Array.isArray(u)?(0,n.jsx)("div",{style:{marginBottom:"1em",paddingLeft:"5px"},children:(0,n.jsx)(i.SelectControl,{label:l,value:o||p||"",onChange:e=>{a({[l]:e})},options:u.map((e=>({label:e,value:e})))})}):"array"===s?(0,n.jsx)(c,{...t}):null}const u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"CLUTCH_BLOCK_NAME","version":"1.0.0","title":"CLUTCH_BLOCK_TITLE","category":"embed","icon":"smiley","description":"Clutch Block","attributes":{},"editorScript":"file:./index.js"}'),{name:p}=u;!function(e){if(!e)return;const{metadata:t,settings:n,name:l}=e;(0,o.registerBlockType)({name:l,...t},n)}({name:p,metadata:u,settings:{icon:l,__experimentalLabel(t,{context:n}){const l=t?.metadata?.name;if("list-view"===n&&l)return l;if("accessibility"===n){if(l)return l;const{content:n}=t;return n&&0!==n.length?n:(0,e.__)("Empty")}},merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({name:t,attributes:l,setAttributes:s,isSelected:d}){const c=(0,a.useBlockProps)(),u=(0,r.useSelect)((e=>e(o.store).getBlockType(t)),[t]),p=u?.attributes||{};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.InspectorControls,{children:(0,n.jsx)(i.Panel,{header:(0,e.__)("Settings"),children:(0,n.jsx)(i.PanelBody,{title:`${u.title} config`,children:""})})}),(0,n.jsxs)("div",{...c,style:{padding:"10px 20px",border:"1px solid #ccc"},children:[(0,n.jsx)("h2",{children:u.title||"Clutch Block"}),Object.entries(p).map((([e,t])=>t?.clutch?(0,n.jsx)(m,{name:e,schema:t,value:l[e]||null,onChange:s},e):null))]})]})},save:function({attributes:e}){const t=a.useBlockProps.save();return(0,n.jsx)("p",{...t,children:"Saved Clutch Block"})}}})})();