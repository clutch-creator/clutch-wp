(()=>{"use strict";const e=window.wp.i18n,t=window.wp.primitives,n=window.ReactJSXRuntime,r=(0,n.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(t.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})}),o=window.wp.blocks,i=window.wp.blockEditor,a=window.wp.components,l=window.wp.element,s=window.wp.apiFetch,c=window.wp.compose,u=window.wp.keycodes,p=window.wp.data;function d(e){const{batch:t}=(0,p.useRegistry)(),{moveBlocksToPosition:n,replaceInnerBlocks:r,duplicateBlocks:a,insertBlock:s}=(0,p.useDispatch)(i.store),{getBlockRootClientId:d,getBlockIndex:m,getBlockOrder:h,getBlockName:g,getBlock:f,getNextBlockClientId:x,canInsertBlockType:w}=(0,p.useSelect)(i.store),_=(0,l.useRef)(e);return _.current=e,(0,c.useRefEffect)((e=>{function i(e){if(e.defaultPrevented)return;if(e.keyCode!==u.ENTER)return;const{content:i,clientId:l}=_.current;if(i.length)return;const c=d(l);if(!(0,o.hasBlockSupport)(g(c),"__experimentalOnEnter",!1))return;const p=h(c),k=p.indexOf(l);if(k===p.length-1){let t=c;for(;!w(g(l),d(t));)t=d(t);return void("string"==typeof t&&(e.preventDefault(),n([l],c,d(t),m(t)+1)))}const y=(0,o.getDefaultBlockName)();if(!w(y,d(c)))return;e.preventDefault();const v=f(c);t((()=>{a([c]);const e=m(c);r(c,v.innerBlocks.slice(0,k)),r(x(c),v.innerBlocks.slice(k+1)),s((0,o.createBlock)(y),e+1,d(c),!0)}))}return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i)}}),[])}const m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"clutch/paragraph","version":"1.0.0","title":"CLUTCH Paragraph","category":"text","icon":"smiley","description":"Start with the basic building block of all narrative.","keywords":["text"],"textdomain":"default","attributes":{"align":{"type":"string"},"content":{"type":"rich-text","source":"rich-text","selector":"p","role":"content"},"placeholder":{"type":"string"}},"supports":{"splitting":true,"anchor":true,"className":false,"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true},"color":{"gradients":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true}},"spacing":{"margin":true,"padding":true,"__experimentalDefaultControls":{"margin":false,"padding":false}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalTextDecoration":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalWritingMode":true,"__experimentalDefaultControls":{"fontSize":true}},"__experimentalSelector":"p","__unstablePasteTextInline":true,"interactivity":{"clientNavigation":true}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),h={from:[{type:"raw",priority:20,selector:"p",schema:({phrasingContentSchema:e,isPaste:t})=>({p:{children:e,attributes:t?[]:["style","id"]}}),transform(e){const t=(0,o.getBlockAttributes)(m.name,e.outerHTML),{textAlign:n}=e.style||{};return"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,o.createBlock)(m.name,t)}}]},{name:g}=m,f={icon:r,example:{attributes:{content:(0,e.__)("In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.")}},__experimentalLabel(t,{context:n}){const r=t?.metadata?.name;if("list-view"===n&&r)return r;if("accessibility"===n){if(r)return r;const{content:n}=t;return n&&0!==n.length?n:(0,e.__)("Empty")}},transforms:h,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:t,mergeBlocks:r,onReplace:o,onRemove:c,setAttributes:u,clientId:p,isSelected:m,name:h}){const[g,f]=(0,l.useState)([]),{align:x,content:w,placeholder:_,className:k}=t,y=(0,i.useBlockProps)({ref:d({clientId:p,content:w})}),v=(0,i.useBlockEditingMode)(),b=g.reduce(((e,{className:t})=>(e[t]=k?.split(" ").includes(t),e)),{});return(0,l.useEffect)((()=>{s({path:"clutch/v1/block-styles"}).then(f)}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.InspectorControls,{children:(0,n.jsx)(a.Panel,{header:(0,e.__)("Settings"),children:(0,n.jsx)(a.PanelBody,{title:(0,e.__)("Paragraph styles"),children:g.map((({label:e,className:t})=>(0,n.jsx)(a.PanelRow,{children:(0,n.jsx)(a.ToggleControl,{label:e,checked:b[t],onChange:e=>{b[t]=e,u({className:g.reduce(((e,{className:t})=>(b[t]&&e.push(t),e)),[]).join(" ")})}},t)})))})})}),"default"===v&&(0,n.jsx)(i.BlockControls,{group:"block",children:(0,n.jsx)(i.AlignmentControl,{value:x,onChange:e=>u({align:e})})}),(0,n.jsx)(i.RichText,{identifier:"content",tagName:"p",...y,value:w,onChange:e=>u({content:e}),onMerge:r,onReplace:o,onRemove:c,"aria-label":i.RichText.isEmpty(w)?(0,e.__)("Empty block; start writing or type forward slash to choose a block"):(0,e.__)("Block: Paragraph"),"data-empty":i.RichText.isEmpty(w),placeholder:_||(0,e.__)("Type / to choose a block"),"data-custom-placeholder":!!_||void 0,__unstableEmbedURLOnPaste:!0,__unstableAllowPrefixTransformations:!0})]})},save:function({attributes:e}){const{align:t,content:r,dropCap:o,direction:a}=e,l=t?`has-text-align-${t}`:"";return(0,n.jsx)("p",{...i.useBlockProps.save({className:l,dir:a}),children:(0,n.jsx)(i.RichText.Content,{value:r})})}};!function(e){if(!e)return;const{metadata:t,settings:n,name:r}=e;(0,o.registerBlockType)({name:r,...t},n)}({name:g,metadata:m,settings:f})})();